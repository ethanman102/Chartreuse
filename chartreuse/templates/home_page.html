<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="date" content="2024-10-10">
    <meta name="tags" content="homepage">
    <meta name="summary" content="This page is for showing posts on a user's homepage.">
    <title>Homepage</title>

    <link rel="stylesheet" href="../static/css/home_page.css">
</head>
<body>
    <div class="container mt-5">
        <h4 class="mb-4">chartreuse.home</h4>
        <div>
            <a href="/chartreuse/add-post" class="btn btn-primary btn-lg me-3">Create a post</a>
        </div>

        <!-- Check if user is logged in -->
        {% if logged_in %}
            <!-- Loop through posts -->
            {% for post in posts %}
            <div class="card mb-3">
                <div class="d-flex align-items-center">
                    <!-- User's profile image -->
                    <img src="{{ post.user.profileImage }}" alt="{{ post.user.displayName }} Avatar" class="rounded-circle me-3" width="50" height="50">
                    <!-- Username -->
                    <h5 class="card-title">{{ post.user.displayName }}</h5>
                    <!-- Likes button (Note: needs logic to fetch the like count) -->
                    <button class="btn btn-outline-primary float-end">{{ post.likes.count }} likes</button>
                </div>
                <!-- Post content -->
                <p class="card-text mt-2">{{ post.content }}</p>
                <!-- Post published date -->
                <p class="text-muted">Published on {{ post.published }}</p>
            </div>
            {% endfor %}
        {% else %}
            <p>Please log in to view posts.</p>
        {% endif %}
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
